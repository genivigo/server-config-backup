<?xml version="1.0" encoding="utf-8"?>
<cruise xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="cruise-config.xsd" schemaVersion="75">
  <server artifactsdir="artifacts" purgeStart="5.0" purgeUpto="12.0" commandRepositoryLocation="genivi" serverId="0634fc43-adff-426b-b417-781a09b9c51a">
    <security>
      <passwordFile path="/gousers/users" />
      <roles>
        <role name="Guest">
          <users>
            <user>user</user>
            <user>guest</user>
            <user>StephenL</user>
            <user>PedroA</user>
            <user>tpollard</user>
            <user>buildmonitor</user>
            <user>mhoyer</user>
            <user>gmacario</user>
            <user>marcor</user>
            <user>ChunsungJung</user>
            <user>tolkien</user>
            <user>helmuts</user>
            <user>amcgee7</user>
            <user>philippec</user>
            <user>jonathanmaw</user>
            <user>RudolfStreif</user>
            <user>ChrisSchulenberg</user>
          </users>
        </role>
        <role name="Developer">
          <users>
            <user>PedroA</user>
            <user>StephenL</user>
            <user>tpollard</user>
            <user>mhoyer</user>
            <user>gmacario</user>
            <user>marcor</user>
            <user>ChunsungJung</user>
            <user>tolkien</user>
            <user>helmuts</user>
            <user>amcgee7</user>
            <user>philippec</user>
            <user>jonathanmaw</user>
            <user>RudolfStreif</user>
            <user>ChrisSchulenberg</user>
          </users>
        </role>
        <role name="GDP_Developer">
          <users>
            <user>StephenL</user>
            <user>PedroA</user>
            <user>tpollard</user>
            <user>jonathanmaw</user>
          </users>
        </role>
      </roles>
      <admins>
        <user>PedroA</user>
        <user>GunnarA</user>
      </admins>
    </security>
  </server>
  <scms>
    <scm id="d8529582-f08b-40c1-968f-df1c39de41ef" name="prtest">
      <pluginConfiguration id="github.pr" version="1" />
      <configuration>
        <property>
          <key>url</key>
          <value>https://github.com/gunnarx/baseline_ci_helper.git</value>
        </property>
      </configuration>
    </scm>
    <scm id="30b07577-5ed3-4441-9558-3cf1595a678c" name="meta-genivi-dev">
      <pluginConfiguration id="github.pr" version="1" />
      <configuration>
        <property>
          <key>url</key>
          <value>https://github.com/GENIVI/meta-genivi-dev.git</value>
        </property>
      </configuration>
    </scm>
    <scm id="4dd064ce-d8c9-4935-adee-74b2a5fc4d00" name="gunnarx-fork">
      <pluginConfiguration id="github.pr" version="1" />
      <configuration>
        <property>
          <key>url</key>
          <value>git://github.com/gunnarx/genivi-dev-platform.git</value>
        </property>
        <property>
          <key>username</key>
          <value>genivigo</value>
        </property>
      </configuration>
    </scm>
    <scm id="a1a82896-a41b-4684-a7e8-4d43bf691438" name="genivi-dev-platform">
      <pluginConfiguration id="github.pr" version="1" />
      <configuration>
        <property>
          <key>url</key>
          <value>https://github.com/GENIVI/genivi-dev-platform</value>
        </property>
      </configuration>
    </scm>
  </scms>
  <pipelines group="GENIVI_Baselines">
    <authorization>
      <view>
        <role>Guest</role>
      </view>
      <admins>
        <role>Developer</role>
      </admins>
    </authorization>
    <pipeline name="yocto-baseline-9" labeltemplate="9.0:${meta-ivi[:8]}" isLocked="false" template="meta-ivi-build">
      <environmentvariables>
        <variable name="IMAGE_NAME">
          <value>kronos-image</value>
        </variable>
      </environmentvariables>
      <materials>
        <git url="git://git.yoctoproject.org/meta-ivi" branch="9.0" dest="meta-ivi" materialName="meta-ivi" />
        <git url="git://git.yoctoproject.org/poky" branch="fido" dest="poky" autoUpdate="false" materialName="poky_fido" />
        <git url="git://git.openembedded.org/meta-openembedded" branch="fido" dest="meta-openembedded" autoUpdate="false" materialName="meta-openembedded_fido" />
        <git url="https://github.com/gunnarx/baseline_ci_helper.git" dest="baseline_ci_helper" autoUpdate="false" materialName="baseline_ci_helper" />
      </materials>
    </pipeline>
    <pipeline name="yocto-baseline-10" labeltemplate="10.0:${meta-ivi[:8]}-test" isLocked="false" template="meta-ivi-build.2">
      <environmentvariables>
        <variable name="IMAGE_NAME">
          <value>leviathan-image</value>
        </variable>
        <variable name="MACHINE">
          <value>qemux86-64</value>
        </variable>
      </environmentvariables>
      <materials>
        <git url="http://git.yoctoproject.org/git/meta-ivi" branch="10.0" dest="meta-ivi" materialName="meta-ivi" />
        <git url="http://git.yoctoproject.org/git/poky.git" branch="jethro" dest="poky" autoUpdate="false" materialName="poky_jethro" />
        <git url="git://git.openembedded.org/meta-openembedded" branch="jethro" dest="meta-openembedded" autoUpdate="false" materialName="meta-oe_jethro" />
        <git url="https://github.com/gunnarx/baseline_ci_helper.git" dest="baseline_ci_helper" autoUpdate="false" materialName="baseline_ci_helper" />
      </materials>
    </pipeline>
    <pipeline name="yocto-baseline-experimental" labeltemplate="experimental:${meta-ivi[:8]}" isLocked="false">
      <environmentvariables>
        <variable name="MACHINE">
          <value>qemux86-64</value>
        </variable>
      </environmentvariables>
      <materials>
        <git url="https://github.com/GENIVI/meta-ivi.git" branch="experimental" dest="meta-ivi" materialName="meta-ivi" />
        <git url="http://git.yoctoproject.org/git/poky.git" branch="master-next" dest="poky" materialName="poky_master-next" />
        <git url="git://git.openembedded.org/meta-openembedded" branch="master-next" dest="meta-openembedded" materialName="meta-oe_master-next" />
        <git url="https://github.com/gunnarx/baseline_ci_helper.git" dest="baseline_ci_helper" autoUpdate="false" materialName="baseline_ci_helper" />
      </materials>
      <stage name="setup">
        <jobs>
          <job name="git.config">
            <tasks>
              <exec command="git" workingdir="meta-ivi">
                <arg>config</arg>
                <arg>user.name</arg>
                <arg>Go Agent</arg>
                <runif status="passed" />
              </exec>
              <exec command="git" workingdir="meta-ivi">
                <arg>config</arg>
                <arg>user.email</arg>
                <arg>no_email@genivigo.com</arg>
                <runif status="passed" />
              </exec>
            </tasks>
          </job>
        </jobs>
      </stage>
      <stage name="workaround.1">
        <jobs>
          <job name="getting-kernel_src">
            <tasks>
              <exec command="bash">
                <arg>-c</arg>
                <arg>export TEMPLATECONF=$PWD/meta-ivi/meta-ivi/conf &amp;&amp; source poky/oe-init-build-env &amp;&amp; MACHINE=$MACHINE bitbake -c fetch linux-yocto</arg>
                <runif status="passed" />
              </exec>
            </tasks>
          </job>
        </jobs>
      </stage>
      <stage name="build">
        <jobs>
          <job name="build-image">
            <tasks>
              <exec command="bash">
                <arg>-c</arg>
                <arg>export TEMPLATECONF=$PWD/meta-ivi/meta-ivi/conf &amp;&amp; source poky/oe-init-build-env &amp;&amp; MACHINE=$MACHINE bitbake ivi-image</arg>
                <runif status="passed" />
              </exec>
            </tasks>
          </job>
        </jobs>
      </stage>
    </pipeline>
  </pipelines>
  <pipelines group="GDP">
    <authorization>
      <view>
        <role>Guest</role>
        <role>GDP_Developer</role>
      </view>
      <operate>
        <role>GDP_Developer</role>
      </operate>
      <admins>
        <role>GDP_Developer</role>
      </admins>
    </authorization>
    <pipeline name="GDP-Yocto-Minnowboard" labeltemplate="gdp-git:${genivi-dev-platform.git[:8]}" isLocked="false" template="Yocto_GDP_Build">
      <materials>
        <git url="https://github.com/GENIVI/genivi-dev-platform.git" branch="minnowboard" materialName="genivi-dev-platform.git" />
      </materials>
    </pipeline>
    <pipeline name="GDP-Yocto-QEMU_x86-64" labeltemplate="gdp-git:${genivi-dev-platform.git[:8]}" isLocked="false" template="Yocto_GDP_Build">
      <materials>
        <git url="https://github.com/GENIVI/genivi-dev-platform.git" branch="qemux86-64" materialName="genivi-dev-platform.git" />
      </materials>
    </pipeline>
    <pipeline name="GDP-Yocto-Porter-with-GFX" labeltemplate="gdp-git:${genivi-dev-platform.git[:8]}" isLocked="false" template="Yocto_GDP_Build_Renesas">
      <environmentvariables>
        <variable name="BOARD">
          <value>porter</value>
        </variable>
      </environmentvariables>
      <materials>
        <git url="git://github.com/GENIVI/genivi-dev-platform.git" branch="porter" materialName="genivi-dev-platform.git" />
      </materials>
    </pipeline>
    <pipeline name="GDP-Yocto-Koelsch-with-GFX" labeltemplate="gdp-git:${genivi-dev-platform.git[:8]}" isLocked="false" template="Yocto_GDP_Build_Renesas">
      <environmentvariables>
        <variable name="BOARD">
          <value>porter</value>
        </variable>
      </environmentvariables>
      <materials>
        <git url="git://github.com/GENIVI/genivi-dev-platform.git" branch="koelsch" materialName="genivi-dev-platform.git" />
      </materials>
    </pipeline>
    <pipeline name="GDP-Yocto-Silk-with-GFX" labeltemplate="gdp-git:${genivi-dev-platform.git[:8]}" isLocked="false" template="Yocto_GDP_Build_Renesas">
      <environmentvariables>
        <variable name="BOARD">
          <value>silk</value>
        </variable>
      </environmentvariables>
      <materials>
        <git url="http://github.com/GENIVI/genivi-dev-platform.git" branch="silk" materialName="genivi-dev-platform.git" />
      </materials>
    </pipeline>
    <pipeline name="GDP-Yocto-RaspberryPi2" labeltemplate="gdp-git:${genivi-dev-platform.git[:8]}" isLocked="false" template="Yocto_GDP_Build">
      <materials>
        <git url="https://github.com/GENIVI/genivi-dev-platform.git" branch="raspberrypi2" materialName="genivi-dev-platform.git" />
      </materials>
    </pipeline>
  </pipelines>
  <pipelines group="GDP_Maintenance">
    <authorization>
      <view>
        <role>Guest</role>
      </view>
      <admins>
        <role>GDP_Developer</role>
      </admins>
    </authorization>
    <pipeline name="GDP-Yocto-QEMU_x86-64-qemu-ci" template="Yocto_GDP_qemu_image">
      <materials>
        <git url="http://github.com/GENIVI/genivi-dev-platform.git" branch="qemu-ci" materialName="genivi-dev-platform.git" />
      </materials>
    </pipeline>
    <pipeline name="GDP-Yocto-QEMU_x86-64-meta-genivi-demo-qemu-ci" template="Yocto_GDP_qemu_latest_meta_genivi_demo">
      <materials>
        <git url="git://github.com/GENIVI/genivi-dev-platform.git" branch="qemux86-64" dest="gdp" materialName="genivi-dev-platform.git" />
        <git url="git://github.com/GENIVI/meta-genivi-demo.git" branch="qemu-ci" dest="meta-genivi-demo" materialName="meta-genivi-demo.git" />
      </materials>
    </pipeline>
    <pipeline name="github-PR-test" template="Yocto_GDP_qemu_latest_meta_genivi_demo">
      <materials>
        <git url="git://github.com/genivi/genivi-dev-platform.git" branch="qemux86-64" dest="gdp" materialName="genivi-dev-platform.git" />
        <scm ref="30b07577-5ed3-4441-9558-3cf1595a678c" dest="meta-genivi-demo" />
      </materials>
    </pipeline>
    <pipeline name="github-PR-GDP-qemu-ci" template="Yocto_GDP_qemu_image">
      <materials>
        <scm ref="a1a82896-a41b-4684-a7e8-4d43bf691438" />
      </materials>
    </pipeline>
  </pipelines>
  <pipelines group="Components">
    <authorization>
      <view>
        <role>Developer</role>
        <role>Guest</role>
      </view>
      <operate>
        <role>Developer</role>
      </operate>
      <admins>
        <role>Developer</role>
      </admins>
    </authorization>
    <pipeline name="DLT-daemon-native" isLocked="false">
      <materials>
        <git url="http://github.com/GENIVI/dlt-daemon.git" materialName="dlt-daemon.git" />
      </materials>
      <stage name="build">
        <jobs>
          <job name="cmake_and_make">
            <tasks>
              <exec command="rm">
                <arg>-rf</arg>
                <arg>build</arg>
                <runif status="passed" />
              </exec>
              <exec command="mkdir">
                <arg>-p</arg>
                <arg>build</arg>
                <runif status="passed" />
              </exec>
              <exec command="cmake" workingdir="build">
                <arg>..</arg>
                <runif status="passed" />
              </exec>
              <exec command="make" workingdir="build">
                <arg>V=1</arg>
                <arg>-j2</arg>
                <runif status="passed" />
              </exec>
            </tasks>
            <resources>
              <resource>cmake</resource>
            </resources>
            <artifacts>
              <artifact src="build/src/lib" />
            </artifacts>
          </job>
        </jobs>
      </stage>
    </pipeline>
    <pipeline name="common-api-cpp-runtime" labeltemplate="${COUNT}:master:${common-api-runtime.git[:8]}" isLocked="false" template="CMAKE_build">
      <materials>
        <git url="http://github.com/GENIVI/ipc/common-api-runtime.git" materialName="common-api-runtime.git" />
      </materials>
    </pipeline>
    <pipeline name="common-api-cpp-dbus-runtime" labeltemplate="${COUNT}:master:${common-api-dbus-runtime.git[:8]}" isLocked="false">
      <materials>
        <git url="http://github.com/GENIVI/ipc/common-api-dbus-runtime.git" materialName="common-api-dbus-runtime.git" />
        <pipeline pipelineName="common-api-cpp-runtime" stageName="build" materialName="build" />
        <pipeline pipelineName="libdbus-with-commonapi-patch" stageName="patch_and_build" materialName="libdbus-with-commonapi-patch" />
      </materials>
      <stage name="build">
        <jobs>
          <job name="build">
            <environmentvariables>
              <variable name="CommonAPI_DIR">
                <value>../common-api-cpp-runtime-build/build</value>
              </variable>
              <variable name="PKG_CONFIG_PATH">
                <value>/var/lib/go-agent/pipelines/common-api-cpp-dbus-runtime/libdbus_patched/results/lib/pkgconfig</value>
              </variable>
            </environmentvariables>
            <tasks>
              <fetchartifact pipeline="libdbus-with-commonapi-patch" stage="patch_and_build" job="patch_and_build" srcdir="results" dest="libdbus_patched">
                <runif status="passed" />
              </fetchartifact>
              <fetchartifact pipeline="common-api-cpp-runtime" stage="build" job="cmake_and_make" srcdir="build" dest="common-api-cpp-runtime-build">
                <runif status="passed" />
              </fetchartifact>
              <exec command="rm">
                <arg>-rf</arg>
                <arg>build</arg>
              </exec>
              <exec command="mkdir">
                <arg>build</arg>
                <runif status="passed" />
              </exec>
              <exec command="cmake" workingdir="build">
                <arg>-D</arg>
                <arg>USE_INSTALLED_COMMONAPI=ON</arg>
                <arg>..</arg>
                <runif status="passed" />
              </exec>
              <exec command="make" workingdir="build">
                <runif status="passed" />
              </exec>
            </tasks>
            <resources>
              <resource>cmake</resource>
            </resources>
            <artifacts>
              <artifact src="build/*.so*" />
            </artifacts>
          </job>
        </jobs>
      </stage>
    </pipeline>
    <pipeline name="libdbus-with-commonapi-patch" labeltemplate="${COUNT}:master:${dbus.git[:8]}" isLocked="false">
      <materials>
        <git url="http://anongit.freedesktop.org/git/dbus/dbus.git" dest="dbus" materialName="dbus.git" />
        <git url="http://github.com/GENIVI/ipc/common-api-dbus-runtime.git" dest="common-api-dbus-runtime" materialName="common-api-dbus-runtime.git" />
      </materials>
      <stage name="patch_and_build">
        <jobs>
          <job name="patch_and_build">
            <tasks>
              <exec command="git" workingdir="dbus">
                <arg>checkout</arg>
                <arg>dbus-1.9.0</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash" workingdir="dbus">
                <arg>-c</arg>
                <arg>for f in ../common-api-dbus-runtime/src/dbus-patches/*.patch ; do patch -p1 &lt;"$f" || exit 1 ; done</arg>
                <runif status="passed" />
              </exec>
              <exec command="mkdir">
                <arg>-p</arg>
                <arg>results</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash" workingdir="dbus">
                <arg>autogen.sh</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash" workingdir="dbus">
                <arg>-c</arg>
                <arg>./configure --prefix $PWD/../results</arg>
                <runif status="passed" />
              </exec>
              <exec command="make" workingdir="dbus">
                <arg>-j4</arg>
                <arg>-C</arg>
                <arg>dbus</arg>
                <runif status="passed" />
              </exec>
              <exec command="make" workingdir="dbus">
                <arg>install</arg>
                <runif status="passed" />
              </exec>
            </tasks>
            <resources>
              <resource>libtool</resource>
            </resources>
            <artifacts>
              <artifact src="results" />
            </artifacts>
          </job>
        </jobs>
      </stage>
    </pipeline>
    <pipeline name="vSomeIP" template="CMAKE_build">
      <materials>
        <git url="http://github.com/GENIVI/vSomeIP.git" />
      </materials>
    </pipeline>
  </pipelines>
  <pipelines group="Tools">
    <authorization>
      <view>
        <role>Guest</role>
        <role>Developer</role>
      </view>
      <operate>
        <role>Developer</role>
      </operate>
      <admins>
        <role>Developer</role>
      </admins>
    </authorization>
    <pipeline name="common-api-cpp-dbus-tools" labeltemplate="${COUNT}:master:${common-api-dbus-tools.git[:8]}" isLocked="false">
      <materials>
        <git url="http://github.com/GENIVI/ipc/common-api-dbus-tools.git" dest="common-api-dbus-tools" materialName="common-api-dbus-tools.git" />
        <git url="http://github.com/GENIVI/ipc/common-api-tools.git" dest="common-api-tools" materialName="common-api-tools.git" />
      </materials>
      <stage name="build" artifactCleanupProhibited="true">
        <jobs>
          <job name="build">
            <tasks>
              <exec command="mkdir">
                <arg>-p</arg>
                <arg>bin</arg>
                <runif status="passed" />
              </exec>
              <exec command="mvn" workingdir="common-api-tools/org.genivi.commonapi.core.releng">
                <arg>-Dtarget.id=org.genivi.commonapi.core.target</arg>
                <arg>clean</arg>
                <arg>verify</arg>
                <runif status="passed" />
              </exec>
              <exec command="mvn" workingdir="common-api-dbus-tools/org.genivi.commonapi.dbus.releng">
                <arg>-DCOREPATH=../../common-api-tools</arg>
                <arg>-Dtarget.id=org.genivi.commonapi.dbus.target</arg>
                <arg>clean</arg>
                <arg>verify</arg>
                <runif status="passed" />
              </exec>
              <exec command="unzip" workingdir="bin">
                <arg>../common-api-dbus-tools/org.genivi.commonapi.dbus.cli.product/target/products/commonapi_dbus_generator.zip</arg>
                <runif status="passed" />
              </exec>
            </tasks>
            <resources>
              <resource>maven</resource>
            </resources>
            <artifacts>
              <artifact src="bin" />
            </artifacts>
          </job>
        </jobs>
      </stage>
    </pipeline>
    <pipeline name="common-api-cpp-tools" labeltemplate="${COUNT}:master:${common-api-tools.git[:8]}" isLocked="false">
      <materials>
        <git url="http://github.com/GENIVI/ipc/common-api-tools.git" materialName="common-api-tools.git" />
      </materials>
      <stage name="build" artifactCleanupProhibited="true">
        <jobs>
          <job name="build">
            <tasks>
              <exec command="mvn" workingdir="org.genivi.commonapi.core.releng">
                <arg>-Dtarget.id=org.genivi.commonapi.core.target</arg>
                <arg>clean</arg>
                <arg>verify</arg>
                <runif status="passed" />
              </exec>
              <exec command="mkdir">
                <arg>bin</arg>
                <runif status="passed" />
              </exec>
              <exec command="unzip" workingdir="bin">
                <arg>../org.genivi.commonapi.core.cli.product/target/products/commonapi-generator.zip</arg>
                <runif status="passed" />
              </exec>
            </tasks>
            <resources>
              <resource>maven</resource>
            </resources>
            <artifacts>
              <artifact src="bin" />
            </artifacts>
          </job>
        </jobs>
      </stage>
    </pipeline>
    <pipeline name="common-api-cpp-someip-tools" labeltemplate="${COUNT}:master:${cpp-someip-tools.git[:8]}" isLocked="false">
      <materials>
        <git url="http://github.com/GENIVI/common-api/cpp-someip-tools.git" dest="cpp-someip-tools" materialName="cpp-someip-tools.git" />
        <git url="http://github.com/GENIVI/ipc/common-api-tools.git" dest="common-api-tools" materialName="common-api-tools.git" />
      </materials>
      <stage name="build" artifactCleanupProhibited="true">
        <jobs>
          <job name="build">
            <tasks>
              <exec command="mkdir">
                <arg>-p</arg>
                <arg>bin</arg>
                <runif status="passed" />
              </exec>
              <exec command="mvn" workingdir="common-api-tools/org.genivi.commonapi.core.releng">
                <arg>-Dtarget.id=org.genivi.commonapi.core.target</arg>
                <arg>clean</arg>
                <arg>verify</arg>
                <runif status="passed" />
              </exec>
              <exec command="mvn" workingdir="cpp-someip-tools/org.genivi.commonapi.someip.releng">
                <arg>-DCOREPATH=../../common-api-tools</arg>
                <arg>-Dtarget.id=org.genivi.commonapi.someip.target</arg>
                <arg>clean</arg>
                <arg>verify</arg>
                <runif status="passed" />
              </exec>
              <exec command="unzip" workingdir="bin">
                <arg>../cpp-someip-tools/org.genivi.commonapi.someip.cli.product/target/products/commonapi_someip_generator.zip</arg>
                <runif status="passed" />
              </exec>
            </tasks>
            <resources>
              <resource>maven</resource>
            </resources>
            <artifacts>
              <artifact src="bin" />
            </artifacts>
          </job>
        </jobs>
      </stage>
    </pipeline>
  </pipelines>
  <pipelines group="Experiments_and_Testing">
    <authorization>
      <view>
        <role>Guest</role>
      </view>
      <operate>
        <role>Guest</role>
      </operate>
      <admins>
        <role>Developer</role>
      </admins>
    </authorization>
    <pipeline name="GDP-Yocto-RaspberryPi2_with_SDK" template="Yocto_GDP_build_with_SDK">
      <materials>
        <git url="http://github.com/GENIVI/genivi-dev-platform.git" branch="chbae/raspberrypi2" materialName="genivi-dev-platform.git" />
      </materials>
    </pipeline>
    <pipeline name="SDK">
      <materials>
        <git url="http://github.com/GENIVI/meta-genivi-demo.git" />
      </materials>
      <stage name="Build">
        <jobs>
          <job name="Build">
            <tasks>
              <ant />
            </tasks>
          </job>
        </jobs>
      </stage>
      <stage name="Test">
        <jobs>
          <job name="Test">
            <tasks>
              <ant />
            </tasks>
          </job>
        </jobs>
      </stage>
      <stage name="ManualTest">
        <approval type="manual" />
        <jobs>
          <job name="Trigger">
            <tasks>
              <exec command="test" />
            </tasks>
          </job>
        </jobs>
      </stage>
      <stage name="Copy_to_web_server">
        <jobs>
          <job name="copy">
            <tasks>
              <ant />
            </tasks>
          </job>
        </jobs>
      </stage>
    </pipeline>
    <pipeline name="GDP-Yocto-QEMU_x86-64-populate-SDK" labeltemplate="gdp-git:${genivi-dev-platform.git[:8]}" isLocked="false" template="Yocto_GDP_build_with_SDK">
      <materials>
        <git url="http://github.com/GENIVI/genivi-dev-platform.git" branch="qemux86-64" materialName="genivi-dev-platform.git" />
      </materials>
    </pipeline>
    <pipeline name="test">
      <materials>
        <git url="https://github.com/gunnarx/build-capi" />
      </materials>
      <stage name="defaultStage">
        <jobs>
          <job name="defaultJob">
            <tasks>
              <exec command="uname">
                <arg>-a</arg>
                <runif status="passed" />
              </exec>
            </tasks>
            <resources>
              <resource>gm_test</resource>
            </resources>
          </job>
        </jobs>
      </stage>
    </pipeline>
    <pipeline name="gm-test-sysinfo" isLocked="false">
      <materials>
        <git url="https://gist.github.com/gmacario/124193e33b7e0e6f7110" materialName="gm-sysinfo" />
      </materials>
      <stage name="defaultStage">
        <jobs>
          <job name="defaultJob">
            <tasks>
              <exec command="bash">
                <arg>gm-sysinfo.sh</arg>
                <runif status="passed" />
              </exec>
            </tasks>
            <resources>
              <resource>gm_test</resource>
            </resources>
          </job>
        </jobs>
      </stage>
    </pipeline>
    <pipeline name="stevel_GDP-Yocto-Porter-ivi9" labeltemplate="gdp-git:${genivi-dev-platform.git[:8]}" isLocked="false" template="Yocto_GDP_Build_Renesas">
      <environmentvariables>
        <variable name="BOARD">
          <value>porter</value>
        </variable>
      </environmentvariables>
      <materials>
        <git url="git://github.com/GENIVI/genivi-dev-platform.git" branch="experimental/porter-ivi9" materialName="genivi-dev-platform.git" />
      </materials>
    </pipeline>
    <pipeline name="test_docker">
      <materials>
        <git url="https://github.com/gmacario/easy-genivigo" />
      </materials>
      <stage name="defaultStage">
        <jobs>
          <job name="defaultJob">
            <tasks>
              <exec command="docker">
                <arg>--version</arg>
              </exec>
              <exec command="docker">
                <arg>info</arg>
                <runif status="passed" />
              </exec>
              <exec command="docker-compose">
                <arg>--version</arg>
                <runif status="passed" />
              </exec>
            </tasks>
          </job>
        </jobs>
      </stage>
    </pipeline>
    <pipeline name="build_capi_native">
      <materials>
        <git url="git://github.com/GENIVI/common-api/c-poc.git" />
      </materials>
      <stage name="defaultStage">
        <jobs>
          <job name="defaultJob">
            <tasks>
              <exec command="bash">
                <arg>-xe</arg>
                <arg>-c</arg>
                <arg>id; printenv | sort; pwd; ls -la</arg>
              </exec>
              <exec command="docker">
                <arg>pull</arg>
                <arg>gmacario/build-capi-native</arg>
                <runif status="passed" />
              </exec>
              <exec command="docker">
                <arg>run</arg>
                <arg>--rm</arg>
                <arg>--user</arg>
                <arg>build</arg>
                <arg>--workdir</arg>
                <arg>/home/build</arg>
                <arg>gmacario/build-capi-native</arg>
                <arg>bash</arg>
                <arg>-xe</arg>
                <arg>-c</arg>
                <arg>git clone git://github.com/GENIVI/common-api/c-poc.git &amp;&amp; cd c-poc &amp;&amp; autoreconf -i &amp;&amp; ./configure &amp;&amp; make &amp;&amp; sudo make install</arg>
                <runif status="passed" />
              </exec>
            </tasks>
          </job>
        </jobs>
      </stage>
    </pipeline>
    <pipeline name="GENIVI_Positioning" isLocked="false">
      <timer onlyOnChanges="true">0 0 22 ? * MON-FRI</timer>
      <materials>
        <git url="http://github.com/GENIVI/lbs/positioning.git" materialName="PositioningGitRepository" />
      </materials>
      <stage name="defaultStage">
        <jobs>
          <job name="defaultJob">
            <tasks>
              <exec command="bash">
                <arg>-c</arg>
                <arg>rm -rf build &amp;&amp; mkdir -p build &amp;&amp; cd build &amp;&amp; cmake -DWITH_DBUS_INTERFACE=ON -DWITH_FRANCA_DBUS_INTERFACE=OFF -DWITH_FRANCA_SOMEIP_INTERFACE=OFF -DWITH_TESTS=ON -DWITH_DEBUG=ON -DWITH_DLT=OFF -DCMAKE_BUILD_TYPE=Debug ../</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash">
                <arg>-c</arg>
                <arg>cd build &amp;&amp; make</arg>
                <runif status="passed" />
              </exec>
            </tasks>
            <resources>
              <resource>cmake</resource>
              <resource>lbs</resource>
            </resources>
          </job>
          <job name="common-api-dbus_dlt_logreplayer">
            <tasks>
              <exec command="bash">
                <arg>-c</arg>
                <arg>rm -rf build &amp;&amp; mkdir -p build &amp;&amp; cd build &amp;&amp; cmake -DWITH_DBUS_INTERFACE=OFF -DWITH_FRANCA_DBUS_INTERFACE=ON -DWITH_FRANCA_SOMEIP_INTERFACE=OFF -DWITH_TESTS=ON -DWITH_DEBUG=ON -DWITH_DLT=ON -DCMAKE_BUILD_TYPE=Debug -DCOMMONAPI_TOOL_GENERATOR=/usr/local/bin/commonapi-generator-linux-x86_64 -DCOMMONAPI_DBUS_TOOL_GENERATOR=/usr/local/bin/commonapi-dbus-generator-linux-x86_64 ../</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash">
                <arg>-c</arg>
                <arg>cd build &amp;&amp; make</arg>
                <runif status="passed" />
              </exec>
            </tasks>
            <resources>
              <resource>cmake</resource>
              <resource>lbs</resource>
            </resources>
          </job>
          <job name="common-api-dbus_stdout_logreplayer">
            <tasks>
              <exec command="bash">
                <arg>-c</arg>
                <arg>rm -rf build &amp;&amp; mkdir -p build &amp;&amp; cd build &amp;&amp; cmake -DWITH_DBUS_INTERFACE=OFF -DWITH_FRANCA_DBUS_INTERFACE=ON -DWITH_FRANCA_SOMEIP_INTERFACE=OFF -DWITH_TESTS=ON -DWITH_DEBUG=ON -DWITH_DLT=OFF -DCMAKE_BUILD_TYPE=Debug -DCOMMONAPI_TOOL_GENERATOR=/usr/local/bin/commonapi-generator-linux-x86_64 -DCOMMONAPI_DBUS_TOOL_GENERATOR=/usr/local/bin/commonapi-dbus-generator-linux-x86_64 ../</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash">
                <arg>-c</arg>
                <arg>cd build &amp;&amp; make</arg>
                <runif status="passed" />
              </exec>
            </tasks>
            <resources>
              <resource>cmake</resource>
              <resource>lbs</resource>
            </resources>
          </job>
          <job name="gnssservice_stdout_gpsd">
            <tasks>
              <exec command="bash">
                <arg>-c</arg>
                <arg>rm -rf build &amp;&amp; mkdir -p build &amp;&amp; cd build &amp;&amp; cmake WITH_ENHANCED_POSITION_SERVICE=OFF WITH_SENSORS_SERVICE=OFF  -DWITH_TESTS=ON -DWITH_DEBUG=ON -DWITH_DLT=OFF -DCMAKE_BUILD_TYPE=Debug -DWITH_REPLAYER=OFF -DWITH_GPSD=ON ../</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash">
                <arg>-c</arg>
                <arg>cd build &amp;&amp; make</arg>
                <runif status="passed" />
              </exec>
            </tasks>
            <resources>
              <resource>cmake</resource>
              <resource>lbs</resource>
            </resources>
          </job>
          <job name="sensorsservice_gnssservice_nmea_logger_stdout">
            <tasks>
              <exec command="bash">
                <arg>-c</arg>
                <arg>rm -rf build &amp;&amp; mkdir -p build &amp;&amp; cd build &amp;&amp; cmake -DWITH_ENHANCED_POSITION_SERVICE=OFF -DWITH_NMEA=ON -DWITH_SENSORS=ON -DIMU_TYPE=LSM9DS1 -DWITH_LOGGER=ON -DWITH_TESTS=ON -DWITH_DEBUG=ON -DGNSS_DEVICE=\"/dev/ttyACM0\" -DGNSS_BAUDRATE=B38400 -DGNSS_CHIPSET=UBLOX -DGNSS_DELAY=50 ../</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash">
                <arg>-c</arg>
                <arg>cd build &amp;&amp; make</arg>
                <runif status="passed" />
              </exec>
            </tasks>
            <resources>
              <resource>cmake</resource>
              <resource>lbs</resource>
            </resources>
          </job>
        </jobs>
      </stage>
    </pipeline>
    <pipeline name="common-api-c" isLocked="false">
      <materials>
        <git url="git://github.com/GENIVI/common-api/c-poc.git" />
      </materials>
      <stage name="buildStage">
        <jobs>
          <job name="buildJob">
            <tasks>
              <exec command="autoreconf">
                <arg>-i</arg>
                <runif status="passed" />
              </exec>
              <exec command="./configure">
                <runif status="passed" />
              </exec>
              <exec command="make">
                <runif status="passed" />
              </exec>
              <exec command="sudo">
                <arg>make</arg>
                <arg>install</arg>
                <runif status="passed" />
              </exec>
            </tasks>
          </job>
        </jobs>
      </stage>
    </pipeline>
    <pipeline name="software-loading-manager" isLocked="false">
      <materials>
        <git url="https://github.com/GENIVI/genivi_swm" materialName="SW_Management_PoC_sources" />
      </materials>
      <stage name="commonApiGenerationStage">
        <jobs>
          <job name="commonApiGenerationJob">
            <tasks>
              <exec command="bash">
                <arg>-c</arg>
                <arg>printenv &amp;&amp; true</arg>
                <runif status="passed" />
              </exec>
            </tasks>
          </job>
        </jobs>
      </stage>
      <stage name="compileCppStage">
        <jobs>
          <job name="compileCppJob">
            <tasks>
              <exec command="true" />
            </tasks>
          </job>
        </jobs>
      </stage>
      <stage name="runSWLMPocStage">
        <jobs>
          <job name="runSWLMPocJob">
            <tasks>
              <exec command="sudo">
                <arg>sh</arg>
                <arg>start_swm.sh</arg>
                <arg>-r</arg>
                <runif status="passed" />
              </exec>
            </tasks>
          </job>
        </jobs>
      </stage>
    </pipeline>
    <pipeline name="GDP-Pull-Request">
      <params>
        <param name="target">qemux86-64</param>
      </params>
      <materials>
        <scm ref="4dd064ce-d8c9-4935-adee-74b2a5fc4d00" />
      </materials>
      <stage name="build">
        <jobs>
          <job name="build">
            <tasks>
              <exec command="git" workingdir="meta-ivi">
                <arg>config</arg>
                <arg>user.name</arg>
                <arg>go.genivi.org agent</arg>
                <runif status="passed" />
              </exec>
              <exec command="git" workingdir="meta-ivi">
                <arg>config</arg>
                <arg>user.email</arg>
                <arg>no-email</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash">
                <arg>-c</arg>
                <arg>echo "#{target}" | (source ./init.sh &amp;&amp; bitbake genivi-dev-platform)</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash">
                <arg>-c</arg>
                <arg>rm -f logs.tar logs.tar.gz &amp;&amp; find gdp-src-build/tmp/work -name "log.*" -print0 | xargs -0 tar cfz logs.tar.gz</arg>
                <runif status="any" />
              </exec>
            </tasks>
            <resources>
              <resource>2131ce1bd33e</resource>
            </resources>
            <artifacts>
              <artifact src="logs.tar.gz" />
            </artifacts>
          </job>
        </jobs>
      </stage>
    </pipeline>
    <pipeline name="FRANCA_IF_Validation">
      <materials>
        <pipeline pipelineName="common-api-cpp-tools" stageName="build" />
      </materials>
      <stage name="defaultStage">
        <jobs>
          <job name="doValidation">
            <tasks>
              <exec command="bash" />
            </tasks>
          </job>
        </jobs>
      </stage>
    </pipeline>
  </pipelines>
  <pipelines group="franca_install_automation" />
  <pipelines group="Administration_for_2131ce1bd33e">
    <authorization>
      <view>
        <user>GunnarA</user>
        <role>GDP_Developer</role>
      </view>
      <operate>
        <user>GunnarA</user>
        <role>GDP_Developer</role>
      </operate>
      <admins>
        <user>GunnarA</user>
        <role>GDP_Developer</role>
      </admins>
    </authorization>
    <pipeline name="Wipe_gdp_work_dir" isLocked="false" template="Wipe_dir_pattern">
      <params>
        <param name="agent">2131ce1bd33e</param>
        <param name="dir_pattern">/var/lib/go-agent/pipelines/*/gdp-src-build/tmp/work/*</param>
      </params>
      <timer>0 0 4 ? * SUN *</timer>
      <materials>
        <git url="https://github.com/gunnarx/baseline_ci_helper.git" autoUpdate="false" materialName="not_used" />
      </materials>
    </pipeline>
    <pipeline name="DiskStatistics-test" isLocked="false">
      <materials>
        <git url="http://github.com/gunnarx/gocd-setup.git" />
      </materials>
      <stage name="stage">
        <approval type="manual" />
        <jobs>
          <job name="disk_usage">
            <tasks>
              <exec command="uname">
                <arg>-a</arg>
                <runif status="passed" />
              </exec>
              <exec command="df">
                <arg>-h</arg>
              </exec>
            </tasks>
            <resources>
              <resource>2131ce1bd33e</resource>
            </resources>
          </job>
        </jobs>
      </stage>
    </pipeline>
  </pipelines>
  <pipelines group="Administration_for_agent007">
    <authorization>
      <view>
        <role>GDP_Developer</role>
      </view>
      <operate>
        <role>GDP_Developer</role>
      </operate>
      <admins>
        <role>GDP_Developer</role>
      </admins>
    </authorization>
    <pipeline name="Wipe_gdp_work_dir2" isLocked="false" template="Wipe_dir_pattern">
      <params>
        <param name="dir_pattern">/var/lib/go-agent/pipelines/*/gdp-src-build/tmp/work/**</param>
        <param name="agent">agent007</param>
      </params>
      <timer>0 0 4 ? * SUN *</timer>
      <materials>
        <git url="https://github.com/gunnarx/baseline_ci_helper.git" autoUpdate="false" materialName="not_used" />
      </materials>
    </pipeline>
  </pipelines>
  <pipelines group="Administration_for_codethink-genivigo-agent1-x86">
    <authorization>
      <view>
        <role>GDP_Developer</role>
      </view>
      <operate>
        <role>GDP_Developer</role>
      </operate>
      <admins>
        <role>GDP_Developer</role>
      </admins>
    </authorization>
    <pipeline name="Wipe_gdp_work_dir3" template="Wipe_dir_pattern">
      <params>
        <param name="dir_pattern">/var/lib/go-agent/pipelines/*/gdp-src-build/tmp/work</param>
        <param name="agent">codethink-genivigo-agent1-x86</param>
      </params>
      <materials>
        <git url="https://github.com/gunnarx/baseline_ci_helper.git" autoUpdate="false" materialName="not_used" />
      </materials>
    </pipeline>
  </pipelines>
  <templates>
    <pipeline name="franca_install_automation">
      <authorization>
        <admins>
          <user>gmacario</user>
        </admins>
      </authorization>
      <stage name="install_stage">
        <jobs>
          <job name="install_job">
            <environmentvariables>
              <variable name="EXIT_ON_FAILURE">
                <value>true</value>
              </variable>
            </environmentvariables>
            <tasks>
              <exec command="./script.sh" />
              <exec command="bash">
                <arg>-c</arg>
                <arg>cd /var/go/tools &amp;&amp; tar cfz ${GO_PIPELINE_NAME}_${GO_REVISION_FRANCA_INSTALL_AUTOMATION_GIT}.tar.gz autoeclipse</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash">
                <arg>-c</arg>
                <arg>mv /var/go/tools/${GO_PIPELINE_NAME}_${GO_REVISION_FRANCA_INSTALL_AUTOMATION_GIT}.tar.gz .</arg>
                <runif status="passed" />
              </exec>
            </tasks>
            <artifacts>
              <artifact src="franca_install*.tar.gz" />
            </artifacts>
          </job>
        </jobs>
      </stage>
    </pipeline>
    <pipeline name="Yocto_GDP_Build">
      <authorization>
        <admins>
          <user>PedroA</user>
          <user>mhoyer</user>
          <user>tolkien</user>
          <user>tpollard</user>
          <user>gmacario</user>
        </admins>
      </authorization>
      <stage name="build" cleanWorkingDir="true">
        <jobs>
          <job name="init_and_bitbake">
            <tasks>
              <exec command="git">
                <arg>config</arg>
                <arg>--global</arg>
                <arg>user.name</arg>
                <arg>go.genivi.org agent</arg>
                <runif status="passed" />
              </exec>
              <exec command="git">
                <arg>config</arg>
                <arg>--global</arg>
                <arg>user.email</arg>
                <arg>no-email</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash">
                <arg>-c</arg>
                <arg>source ./init.sh &amp;&amp; bitbake genivi-dev-platform</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash">
                <arg>-c</arg>
                <arg>rm -f logs.tar logs.tar.gz &amp;&amp; find gdp-src-build/tmp/work -name "*.log" -print0 | xargs -0 tar cfz logs.tar.gz</arg>
                <runif status="any" />
              </exec>
            </tasks>
            <resources>
              <resource>yocto_build</resource>
            </resources>
            <artifacts>
              <artifact src="logs.tar.gz" />
            </artifacts>
          </job>
        </jobs>
      </stage>
    </pipeline>
    <pipeline name="CMAKE_build">
      <authorization>
        <admins>
          <user>PedroA</user>
          <user>gmacario</user>
          <user>marcor</user>
          <user>tpollard</user>
          <user>jonathanmaw</user>
        </admins>
      </authorization>
      <stage name="build" artifactCleanupProhibited="true">
        <jobs>
          <job name="cmake_and_make">
            <tasks>
              <exec command="mkdir">
                <arg>-p</arg>
                <arg>build</arg>
                <runif status="passed" />
              </exec>
              <exec command="rm">
                <arg>-rf</arg>
                <arg>build</arg>
                <runif status="passed" />
              </exec>
              <exec command="cmake" workingdir="build">
                <arg>..</arg>
                <runif status="passed" />
              </exec>
              <exec command="make" workingdir="build">
                <arg>V=1</arg>
                <arg>-j2</arg>
                <runif status="passed" />
              </exec>
            </tasks>
            <resources>
              <resource>cmake</resource>
            </resources>
            <artifacts>
              <artifact src="build" />
            </artifacts>
          </job>
        </jobs>
      </stage>
    </pipeline>
    <pipeline name="Yocto_GDP_Build_Renesas">
      <authorization>
        <admins>
          <user>PedroA</user>
          <user>StephenL</user>
          <user>jonathanmaw</user>
          <user>tpollard</user>
          <user>gmacario</user>
        </admins>
      </authorization>
      <stage name="build">
        <jobs>
          <job name="init_and_bitbake">
            <tasks>
              <exec command="bash" workingdir="meta-renesas/meta-rcar-gen2">
                <arg>-c</arg>
                <arg>./copy_gfx_software_${BOARD}.sh /var/go/sgx_bin/</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash" workingdir="meta-renesas/meta-rcar-gen2">
                <arg>-c</arg>
                <arg>./copy_mm_software_lcb.sh /var/go/sgx_bin/</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash">
                <arg>-c</arg>
                <arg>. ./init.sh &amp;&amp; bitbake genivi-dev-platform</arg>
                <runif status="passed" />
              </exec>
              <exec command="mkdir">
                <arg>logs</arg>
                <runif status="any" />
              </exec>
              <exec command="bash">
                <arg>-c</arg>
                <arg>rm -f logs.tar logs.tar.gz &amp;&amp; find gdp-src-build/tmp/work -name "*.log" -print0 | xargs -0 tar cfz logs.tar.gz</arg>
                <runif status="any" />
              </exec>
            </tasks>
            <resources>
              <resource>renesas_binaries</resource>
            </resources>
            <artifacts>
              <artifact src="logs.tar.gz" />
            </artifacts>
          </job>
        </jobs>
      </stage>
    </pipeline>
    <pipeline name="Yocto_GDP_Build_Renesas_with_SDK">
      <authorization>
        <admins>
          <user>PedroA</user>
          <user>StephenL</user>
          <user>jonathanmaw</user>
          <user>tpollard</user>
          <user>gmacario</user>
        </admins>
      </authorization>
      <stage name="build">
        <jobs>
          <job name="init_and_bitbake">
            <tasks>
              <exec command="bash" workingdir="meta-renesas/meta-rcar-gen2">
                <arg>-c</arg>
                <arg>./copy_gfx_software_${BOARD}.sh /var/go/sgx_bin/</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash" workingdir="meta-renesas/meta-rcar-gen2">
                <arg>-c</arg>
                <arg>./copy_mm_software_lcb.sh /var/go/sgx_bin/</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash">
                <arg>-c</arg>
                <arg>. ./init.sh &amp;&amp; bitbake genivi-dev-platform</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash">
                <arg>-c</arg>
                <arg>. ./init.sh &amp;&amp; bitbake genivi-dev-platform -c populate_sdk</arg>
                <runif status="passed" />
              </exec>
            </tasks>
            <resources>
              <resource>renesas_binaries</resource>
            </resources>
            <artifacts>
              <artifact src="gdp-src-build/tmp/deploy/sdk" dest="sdk" />
            </artifacts>
          </job>
        </jobs>
      </stage>
    </pipeline>
    <pipeline name="meta-ivi-build">
      <authorization>
        <admins>
          <user>PedroA</user>
          <user>gmacario</user>
          <user>jonathanmaw</user>
          <user>mhoyer</user>
          <user>tolkien</user>
          <user>tpollard</user>
        </admins>
      </authorization>
      <stage name="Build">
        <jobs>
          <job name="init_and_bitbake">
            <tasks>
              <exec command="git" workingdir="meta-ivi">
                <arg>config</arg>
                <arg>user.name</arg>
                <arg>Go Agent</arg>
                <runif status="passed" />
              </exec>
              <exec command="git" workingdir="meta-ivi">
                <arg>config</arg>
                <arg>user.email</arg>
                <arg>no_email@genivigo.com</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash" workingdir="baseline_ci_helper">
                <arg>-c</arg>
                <arg>./checkout_layer_hash.sh poky</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash" workingdir="baseline_ci_helper">
                <arg>-c</arg>
                <arg>./checkout_layer_hash.sh meta-openembedded</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash">
                <arg>-c</arg>
                <arg>export TEMPLATECONF=$PWD/meta-ivi/meta-ivi/conf &amp;&amp; source poky/oe-init-build-env &amp;&amp; bitbake $IMAGE_NAME</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash">
                <arg>-c</arg>
                <arg>rm -f logs.tar logs.tar.gz &amp;&amp; find gdp-src-build/tmp/work -name "*.log" -print0 | xargs -0 tar cfz logs.tar.gz</arg>
                <runif status="passed" />
              </exec>
            </tasks>
            <resources>
              <resource>yocto_build</resource>
            </resources>
            <artifacts>
              <artifact src="logs.tar.gz" />
            </artifacts>
          </job>
        </jobs>
      </stage>
    </pipeline>
    <pipeline name="Yocto_GDP_qemu_image">
      <authorization>
        <admins>
          <user>PedroA</user>
          <user>jonathanmaw</user>
          <user>tpollard</user>
          <user>gmacario</user>
        </admins>
      </authorization>
      <stage name="build">
        <jobs>
          <job name="init_and_bitbake">
            <tasks>
              <exec command="rm" workingdir="gdp-src-build">
                <arg>-rf</arg>
                <arg>tmp</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash" workingdir="gdp-src-build/conf">
                <arg>-c</arg>
                <arg>/bin/echo -e 'BB_NUMBER_THREADS = "4"\nPARALLEL_MAKE = "-j4"' &gt;&gt;local.conf</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash" workingdir="gdp-src-build/conf">
                <arg>-c</arg>
                <arg>/bin/echo -e 'DL_DIR = "/srv/go/dl"\nSSTATE_DIR = "/srv/go/sstate"' &gt;&gt;local.conf</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash" workingdir="gdp-src-build/conf">
                <arg>-c</arg>
                <arg>/bin/echo -e 'IMAGE_FSTYPES = "hddimg"' &gt;&gt;local.conf</arg>
                <runif status="passed" />
              </exec>
              <exec command="/usr/bin/touch" workingdir="gdp-src-build/conf">
                <arg>local_conf_modified</arg>
                <runif status="passed" />
              </exec>
              <exec command="git">
                <arg>config</arg>
                <arg>--global</arg>
                <arg>user.name</arg>
                <arg>Go Server</arg>
                <runif status="passed" />
              </exec>
              <exec command="git">
                <arg>config</arg>
                <arg>--global</arg>
                <arg>user.email</arg>
                <arg>no_email@genivigo.com</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash">
                <arg>-c</arg>
                <arg>source ./init.sh &amp;&amp; bitbake genivi-dev-platform</arg>
              </exec>
              <exec command="bash">
                <arg>-c</arg>
                <arg>source ./init.sh &amp;&amp; mkdir output &amp;&amp; ../poky/scripts/wic create directdisk -e genivi-dev-platform --outdir=output</arg>
              </exec>
              <exec command="bash">
                <arg>-c</arg>
                <arg>rm -f logs.tar logs.tar.gz &amp;&amp; find gdp-src-build/tmp/work -name "*.log" -print0 | xargs -0 tar cfz logs.tar.gz</arg>
                <runif status="passed" />
              </exec>
            </tasks>
            <resources>
              <resource>ct_test</resource>
            </resources>
            <artifacts>
              <artifact src="logs.tar.gz" />
            </artifacts>
          </job>
        </jobs>
      </stage>
    </pipeline>
    <pipeline name="Yocto_GDP_qemu_latest_meta_genivi_demo">
      <authorization>
        <admins>
          <user>PedroA</user>
          <user>jonathanmaw</user>
          <user>tpollard</user>
          <user>gmacario</user>
        </admins>
      </authorization>
      <stage name="build">
        <jobs>
          <job name="init_and_bitbake">
            <tasks>
              <exec command="rm" workingdir="gdp">
                <arg>-rf</arg>
                <arg>meta-genivi-dev</arg>
                <runif status="passed" />
              </exec>
              <exec command="mv" workingdir="gdp">
                <arg>../meta-genivi-demo</arg>
                <arg>meta-genivi-dev</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash" workingdir="gdp/gdp-src-build/conf">
                <arg>-c</arg>
                <arg>/bin/echo -e 'BB_NUMBER_THREADS = "2"\nPARALLEL_MAKE = "-j2"' &gt;&gt;local.conf</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash" workingdir="gdp/gdp-src-build/conf">
                <arg>-c</arg>
                <arg>/bin/echo -e 'DL_DIR = "/srv/go/dl"\nSSTATE_DIR = "/srv/go/sstate"' &gt;&gt;local.conf</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash" workingdir="gdp/gdp-src-build/conf">
                <arg>-c</arg>
                <arg>/bin/echo -e 'IMAGE_FSTYPES = "hddimg"' &gt;&gt;local.conf</arg>
                <runif status="passed" />
              </exec>
              <exec command="/usr/bin/touch" workingdir="gdp/gdp-src-build/conf">
                <arg>local_conf_modified</arg>
                <runif status="passed" />
              </exec>
              <exec command="git">
                <arg>config</arg>
                <arg>--global</arg>
                <arg>user.name</arg>
                <arg>Go Server</arg>
                <runif status="passed" />
              </exec>
              <exec command="git">
                <arg>config</arg>
                <arg>--global</arg>
                <arg>user.email</arg>
                <arg>no_email@genivigo.com</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash" workingdir="gdp">
                <arg>-c</arg>
                <arg>source poky/oe-init-build-env gdp-src-build &amp;&amp; bitbake genivi-dev-platform</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash" workingdir="gdp">
                <arg>-c</arg>
                <arg>source poky/oe-init-build-env gdp-src-build &amp;&amp; mkdir output &amp;&amp; ../poky/scripts/wic create directdisk -e genivi-dev-platform --outdir=output</arg>
                <runif status="passed" />
              </exec>
              <exec command="rm">
                <arg>-r</arg>
                <arg>gdp</arg>
              </exec>
            </tasks>
            <resources>
              <resource>ct_test</resource>
            </resources>
          </job>
        </jobs>
      </stage>
    </pipeline>
    <pipeline name="Yocto_GDP_build_with_SDK">
      <stage name="build">
        <jobs>
          <job name="init_and_bitbake">
            <tasks>
              <exec command="git">
                <arg>config</arg>
                <arg>--global</arg>
                <arg>user.name</arg>
                <arg>go.genivi.org agent</arg>
                <runif status="passed" />
              </exec>
              <exec command="git">
                <arg>config</arg>
                <arg>--global</arg>
                <arg>user.email</arg>
                <arg>no-email</arg>
                <runif status="passed" />
              </exec>
              <exec command="/usr/bin/touch" workingdir="gdp-src-build/conf">
                <arg>local_conf_modified</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash" workingdir="gdp-src-build/conf">
                <arg>-c</arg>
                <arg>/bin/echo -e 'INHERIT += "archiver"\nARCHIVER_MODE[src] = "original"\n' | tee -a local.conf</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash" workingdir="gdp-src-build/conf">
                <arg>-c</arg>
                <arg>echo 'SOURCE_MIRROR_URL ?= "file:///var/cache/yocto/downloads"' &gt;&gt;local.conf</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash" workingdir="gdp-src-build/conf">
                <arg>echo 'INHERIT += "own-mirrors"' &gt;&gt;local.conf</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash">
                <arg>-c</arg>
                <arg>source ./init.sh &amp;&amp; bitbake genivi-dev-platform</arg>
              </exec>
              <exec command="bash">
                <arg>-c</arg>
                <arg>source ./init.sh &amp;&amp; bitbake genivi-dev-platform -c populate_sdk</arg>
                <runif status="any" />
              </exec>
              <exec command="bash">
                <arg>-c</arg>
                <arg>rm -f logs.tar logs.tar.gz &amp;&amp; find gdp-src-build/tmp/work -name "*.log" -print0 | xargs -0 tar cfz logs.tar.gz</arg>
                <runif status="any" />
              </exec>
            </tasks>
            <resources>
              <resource>ga_test</resource>
            </resources>
            <artifacts>
              <artifact src="gdp-src-build/tmp/deploy/sdk" />
              <artifact src="gdp-src-build/tmp/deploy/licenses" />
              <artifact src="gdp-src-build/tmp/deploy/licenses/genivi-dev-platform-*/license.manifest" />
              <artifact src="gdp-src-build/tmp/deploy/licenses/genivi-dev-platform-*/package.manifest" />
              <artifact src="gdp-src-build/downloads/*" dest="downloads (source_code)" />
              <artifact src="logs.tar.gz" />
            </artifacts>
          </job>
        </jobs>
      </stage>
    </pipeline>
    <pipeline name="Wipe_dir_pattern">
      <stage name="stage">
        <jobs>
          <job name="job">
            <tasks>
              <exec command="bash">
                <arg>-c</arg>
                <arg>echo "dir-pattern glob matches: " &amp;&amp; ls #{dir_pattern} || true</arg>
                <runif status="any" />
              </exec>
              <exec command="bash">
                <arg>-c</arg>
                <arg>echo "Disk usage:" &amp;&amp; du -hs #{dir_pattern} || true</arg>
                <runif status="any" />
              </exec>
              <exec command="bash">
                <arg>-c</arg>
                <arg>rm -rf #{dir_pattern}</arg>
                <runif status="any" />
              </exec>
              <exec command="bash">
                <arg>-c</arg>
                <arg>echo "Pipelines disk usage:" &amp;&amp; du -hs /var/lib/go-agent/pipelines/* || true</arg>
                <runif status="any" />
              </exec>
            </tasks>
            <resources>
              <resource>#{agent}</resource>
            </resources>
          </job>
        </jobs>
      </stage>
    </pipeline>
    <pipeline name="meta-ivi-build.2">
      <authorization>
        <admins>
          <user>tolkien</user>
        </admins>
      </authorization>
      <stage name="build_with_specific_commit" cleanWorkingDir="true">
        <jobs>
          <job name="build">
            <tasks>
              <exec command="git" workingdir="meta-ivi">
                <arg>config</arg>
                <arg>user.name</arg>
                <arg>Go Agent</arg>
                <runif status="passed" />
              </exec>
              <exec command="git" workingdir="meta-ivi">
                <arg>config</arg>
                <arg>user.email</arg>
                <arg>no_email@genivigo.com</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash" workingdir="baseline_ci_helper">
                <arg>-c</arg>
                <arg>./checkout_layer_hash.sh poky</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash" workingdir="baseline_ci_helper">
                <arg>-c</arg>
                <arg>./checkout_layer_hash.sh meta-openembedded</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash">
                <arg>-c</arg>
                <arg>export TEMPLATECONF=$PWD/meta-ivi/meta-ivi/conf &amp;&amp; source poky/oe-init-build-env &amp;&amp; MACHINE=$MACHINE bitbake -c fetch linux-yocto</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash">
                <arg>-c</arg>
                <arg>export TEMPLATECONF=$PWD/meta-ivi/meta-ivi/conf &amp;&amp; source poky/oe-init-build-env &amp;&amp; MACHINE=$MACHINE bitbake $IMAGE_NAME</arg>
                <runif status="passed" />
              </exec>
            </tasks>
          </job>
        </jobs>
      </stage>
    </pipeline>
  </templates>
  <agents>
    <agent hostname="codethink-genivigo-agent1-x86" ipaddress="192.168.122.1" uuid="98b572c4-d559-4ed2-8b00-f4c25851e443">
      <resources>
        <resource>ct_test</resource>
        <resource>codethink-genivigo-agent1-x86</resource>
        <resource>yocto_build</resource>
      </resources>
    </agent>
    <agent hostname="2131ce1bd33e" ipaddress="172.17.0.7" uuid="ce4f9ef6-91a4-44c3-881e-3486ff87a2aa">
      <resources>
        <resource>cmake</resource>
        <resource>maven</resource>
        <resource>libtool</resource>
        <resource>lbs</resource>
        <resource>renesas_binaries</resource>
        <resource>ga_test</resource>
        <resource>2131ce1bd33e</resource>
        <resource>yocto_build</resource>
      </resources>
    </agent>
    <agent hostname="gmacario-genivigo-agent1" ipaddress="172.17.0.2" uuid="89069c2d-0711-4c7c-ab9f-63a20001234b">
      <resources>
        <resource>gmacario-genivigo-agent1</resource>
      </resources>
    </agent>
    <agent hostname="agent007" ipaddress="172.17.0.2" uuid="a0482753-ca6c-4d87-9e38-1be4543667c0">
      <resources>
        <resource>agent007</resource>
        <resource>yocto_build</resource>
      </resources>
    </agent>
  </agents>
</cruise>

