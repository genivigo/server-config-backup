<?xml version="1.0" encoding="utf-8"?>
<cruise xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="cruise-config.xsd" schemaVersion="75">
  <server artifactsdir="artifacts" purgeStart="3.0" purgeUpto="7.0" commandRepositoryLocation="default" serverId="0634fc43-adff-426b-b417-781a09b9c51a">
    <security>
      <passwordFile path="/gousers/users" />
      <roles>
        <role name="Guest">
          <users>
            <user>user</user>
            <user>guest</user>
            <user>StephenL</user>
            <user>PedroA</user>
          </users>
        </role>
        <role name="Developer">
          <users>
            <user>PedroA</user>
            <user>StephenL</user>
          </users>
        </role>
        <role name="GDP_Developer">
          <users>
            <user>StephenL</user>
            <user>PedroA</user>
          </users>
        </role>
      </roles>
      <admins>
        <user>gunnar</user>
        <user>PedroA</user>
        <user>GunnarA</user>
        <user>stevel</user>
      </admins>
    </security>
  </server>
  <pipelines group="GENIVI_Baselines">
    <authorization>
      <view>
        <role>Guest</role>
        <role>GDP_Developer</role>
      </view>
      <operate>
        <role>GDP_Developer</role>
      </operate>
      <admins>
        <role>GDP_Developer</role>
      </admins>
    </authorization>
    <pipeline name="yocto-baseline" labeltemplate="9.0:${meta-ivi[:8]}" isLocked="false" template="meta-ivi-build">
      <materials>
        <git url="git://git.yoctoproject.org/meta-ivi" branch="9.0" dest="meta-ivi" materialName="meta-ivi" />
        <git url="git://git.yoctoproject.org/poky" branch="fido" dest="poky" autoUpdate="false" materialName="poky_fido" />
        <git url="git://git.openembedded.org/meta-openembedded" branch="fido" dest="meta-openembedded" materialName="meta-openembedded_fido" />
      </materials>
    </pipeline>
    <pipeline name="yocto-baseline-next" labeltemplate="10.0:${meta-ivi[:8]}" isLocked="false" template="meta-ivi-build-10-w19">
      <materials>
        <git url="http://git.yoctoproject.org/git/meta-ivi" branch="10.0_w19" dest="meta-ivi" materialName="meta-ivi" />
        <git url="http://git.yoctoproject.org/git/poky.git" branch="jethro" dest="poky" materialName="poky_jethro" />
        <git url="git://git.openembedded.org/meta-openembedded" branch="jethro" dest="meta-openembedded" materialName="meta-openembedded_jethro" />
      </materials>
    </pipeline>
  </pipelines>
  <pipelines group="GDP">
    <authorization>
      <view>
        <role>Guest</role>
        <role>GDP_Developer</role>
      </view>
      <operate>
        <role>GDP_Developer</role>
      </operate>
      <admins>
        <role>GDP_Developer</role>
      </admins>
    </authorization>
    <pipeline name="GDP-Yocto-Minnowboard" labeltemplate="gdp-git:${genivi-demo-platform.git[:8]}" isLocked="false" template="Yocto_GDP_Build_4_thread_limit">
      <materials>
        <git url="git://git.projects.genivi.org/genivi-demo-platform.git" branch="minnowboard" materialName="genivi-demo-platform.git" />
      </materials>
    </pipeline>
    <pipeline name="GDP-Yocto-QEMU_x86-64" labeltemplate="gdp-git:${genivi-demo-platform.git[:8]}" isLocked="false" template="Yocto_GDP_Build_4_thread_limit">
      <materials>
        <git url="http://git.projects.genivi.org/genivi-demo-platform.git" branch="qemux86-64" materialName="genivi-demo-platform.git" />
      </materials>
    </pipeline>
    <pipeline name="Yocto-GDP-Porter-with-GFX" labeltemplate="gdp-git:${genivi-demo-platform.git[:8]}" isLocked="false" template="Yocto_GDP_Build_Renesas">
      <materials>
        <git url="git://git.projects.genivi.org/genivi-demo-platform.git" branch="porter" materialName="genivi-demo-platform.git" />
      </materials>
    </pipeline>
    <pipeline name="GDP-Yocto-Koelsch-with-GFX" labeltemplate="gdp-git:${genivi-demo-platform.git[:8]}" isLocked="false" template="Yocto_GDP_Build_Renesas">
      <materials>
        <git url="git://git.projects.genivi.org/genivi-demo-platform.git" branch="koelsch" materialName="genivi-demo-platform.git" />
      </materials>
    </pipeline>
  </pipelines>
  <pipelines group="Components">
    <authorization>
      <view>
        <role>Guest</role>
        <role>Developer</role>
      </view>
      <operate>
        <role>Developer</role>
      </operate>
    </authorization>
    <pipeline name="DLT-daemon-native" isLocked="false" template="CMAKE_build">
      <materials>
        <git url="http://git.projects.genivi.org/dlt-daemon.git" materialName="dlt-daemon.git" />
      </materials>
    </pipeline>
  </pipelines>
  <pipelines group="Experiments">
    <authorization>
      <view>
        <role>Guest</role>
        <role>Developer</role>
      </view>
      <operate>
        <role>Guest</role>
        <role>Developer</role>
      </operate>
      <admins>
        <role>Developer</role>
      </admins>
    </authorization>
    <pipeline name="SDK">
      <materials>
        <git url="http://git.projects.genivi.org/meta-genivi-demo.git" />
      </materials>
      <stage name="Build">
        <jobs>
          <job name="Build">
            <tasks>
              <ant />
            </tasks>
          </job>
        </jobs>
      </stage>
      <stage name="Test">
        <jobs>
          <job name="Test">
            <tasks>
              <ant />
            </tasks>
          </job>
        </jobs>
      </stage>
      <stage name="ManualTest">
        <approval type="manual" />
        <jobs>
          <job name="Trigger">
            <tasks>
              <exec command="test" />
            </tasks>
          </job>
        </jobs>
      </stage>
      <stage name="Copy_to_web_server">
        <jobs>
          <job name="copy">
            <tasks>
              <ant />
            </tasks>
          </job>
        </jobs>
      </stage>
    </pipeline>
    <pipeline name="dev-GDP-porter8" labeltemplate="gdp-git:${genivi-demo-platform.git[:8]}" isLocked="false" template="Yocto_GDP_Build_Renesas">
      <materials>
        <git url="git://git.projects.genivi.org/genivi-demo-platform.git" branch="dev-porter-8" materialName="genivi-demo-platform.git" />
      </materials>
    </pipeline>
    <pipeline name="DiskStatistics-build0" isLocked="false">
      <materials>
        <git url="http://github.com/gunnarx/gocd-setup.git" />
      </materials>
      <stage name="stage">
        <approval type="manual" />
        <jobs>
          <job name="disk_usage">
            <tasks>
              <exec command="uname">
                <arg>-a</arg>
                <runif status="passed" />
              </exec>
              <exec command="df">
                <arg>-h</arg>
              </exec>
            </tasks>
            <resources>
              <resource>big_disk</resource>
            </resources>
          </job>
        </jobs>
      </stage>
    </pipeline>
    <pipeline name="DiskStatistics-codethink1" isLocked="false">
      <materials>
        <git url="http://github.com/gunnarx/gocd-setup.git" />
      </materials>
      <stage name="stage">
        <approval type="manual" />
        <jobs>
          <job name="disk_usage">
            <tasks>
              <exec command="uname">
                <arg>-a</arg>
                <runif status="passed" />
              </exec>
              <exec command="df">
                <arg>-h</arg>
              </exec>
            </tasks>
          </job>
        </jobs>
      </stage>
    </pipeline>
  </pipelines>
  <pipelines group="Retired_Pipelines">
    <authorization>
      <view>
        <role>Guest</role>
        <role>Developer</role>
      </view>
      <operate>
        <role>Developer</role>
      </operate>
      <admins>
        <role>Developer</role>
      </admins>
    </authorization>
    <pipeline name="GDP-Yocto-Porter" labeltemplate="gdp-git:${genivi-demo-platform.git[:8]}" isLocked="false" template="Yocto_GDP_Build_4_thread_limit">
      <materials>
        <git url="git://git.projects.genivi.org/genivi-demo-platform.git" branch="porter" materialName="genivi-demo-platform.git" />
      </materials>
    </pipeline>
    <pipeline name="GDP-Yocto-Koelsch" labeltemplate="gdp-git:${genivi-demo-platform.git[:8]}" isLocked="false" template="Yocto_GDP_Build_Renesas">
      <materials>
        <git url="git://git.projects.genivi.org/genivi-demo-platform.git" branch="koelsch" materialName="genivi-demo-platform.git" />
      </materials>
    </pipeline>
  </pipelines>
  <templates>
    <pipeline name="Yocto_GDP_Build_4_thread_limit">
      <stage name="build">
        <jobs>
          <job name="init_and_bitbake">
            <tasks>
              <exec command="/bin/sh" workingdir="gdp-src-build/conf">
                <arg>-c</arg>
                <arg>/bin/echo -e 'BB_NUMBER_THREADS = "2"\nPARALLEL_MAKE = "-j2"' &gt;&gt;local.conf</arg>
                <runif status="passed" />
              </exec>
              <exec command="/usr/bin/touch" workingdir="gdp-src-build/conf">
                <arg>local_conf_modified</arg>
                <runif status="passed" />
              </exec>
              <exec command="bash">
                <arg>-c</arg>
                <arg>source ./init.sh &amp;&amp; bitbake genivi-demo-platform</arg>
              </exec>
            </tasks>
            <resources>
              <resource>low_load</resource>
            </resources>
          </job>
        </jobs>
      </stage>
    </pipeline>
    <pipeline name="CMAKE_build">
      <stage name="build">
        <jobs>
          <job name="cmake_and_make">
            <tasks>
              <exec command="rm">
                <arg>-rf</arg>
                <arg>build</arg>
                <runif status="passed" />
              </exec>
              <exec command="mkdir">
                <arg>-p</arg>
                <arg>build</arg>
                <runif status="passed" />
              </exec>
              <exec command="cmake" workingdir="build">
                <arg>..</arg>
                <runif status="passed" />
              </exec>
              <exec command="make" workingdir="build">
                <arg>V=1</arg>
                <arg>-j2</arg>
                <runif status="passed" />
              </exec>
            </tasks>
          </job>
        </jobs>
      </stage>
    </pipeline>
    <pipeline name="Yocto_GDP_Build_Renesas">
      <stage name="build">
        <jobs>
          <job name="init_and_bitbake">
            <tasks>
              <exec command="cp">
                <arg>/home/user/renesas-graphics-drivers/r8a7791_linux_sgx_binaries_gles2.tar.bz2</arg>
                <arg>meta-renesas/meta-rcar-gen2/recipes-graphics/gles-module/gles-user-module/</arg>
                <runif status="passed" />
              </exec>
              <exec command="cp">
                <arg>/home/user/renesas-graphics-drivers/SGX_KM_M2.tar.bz2</arg>
                <arg>meta-renesas/meta-rcar-gen2/recipes-kernel/gles-module/gles-kernel-module/</arg>
                <runif status="passed" />
              </exec>
              <exec command="/bin/bash">
                <arg>-c</arg>
                <arg>. ./init.sh &amp;&amp; bitbake genivi-demo-platform</arg>
                <runif status="passed" />
              </exec>
            </tasks>
            <resources>
              <resource>renesas_binaries</resource>
            </resources>
          </job>
        </jobs>
      </stage>
    </pipeline>
    <pipeline name="meta-ivi-build">
      <stage name="Build">
        <jobs>
          <job name="init_and_bitbake">
            <environmentvariables>
              <variable name="TEMPLATECONF">
                <value>/var/lib/go-agent/$GO_PIPELINE_NAME/meta-ivi/meta-ivi/conf</value>
              </variable>
            </environmentvariables>
            <tasks>
              <exec command="git" workingdir="meta-ivi">
                <arg>config</arg>
                <arg>--global</arg>
                <arg>user.name</arg>
                <arg>Go Server</arg>
                <runif status="passed" />
              </exec>
              <exec command="git" workingdir="meta-ivi">
                <arg>config</arg>
                <arg>--global</arg>
                <arg>user.email</arg>
                <arg>no_email@genivigo.com</arg>
                <runif status="passed" />
              </exec>
              <exec command="git" workingdir="meta-openembedded">
                <arg>checkout</arg>
                <arg>5b0305d9efa4b5692cd942586fb7aa92dba42d59</arg>
                <runif status="passed" />
              </exec>
              <exec command="git" workingdir="poky">
                <arg>checkout</arg>
                <arg>eb4a134a60e3ac26a48379675ad6346a44010339</arg>
                <runif status="passed" />
              </exec>
              <exec command="/bin/bash">
                <arg>-c</arg>
                <arg>export TEMPLATECONF=$PWD/meta-ivi/meta-ivi/conf &amp;&amp; source poky/oe-init-build-env &amp;&amp; bitbake kronos-image</arg>
                <runif status="passed" />
              </exec>
            </tasks>
            <resources>
              <resource>big_disk</resource>
            </resources>
          </job>
        </jobs>
      </stage>
    </pipeline>
    <pipeline name="meta-ivi-build-10-w19">
      <stage name="build">
        <jobs>
          <job name="init_and_bitbake">
            <tasks>
              <exec command="git" workingdir="meta-ivi">
                <arg>config</arg>
                <arg>--global</arg>
                <arg>user.name</arg>
                <arg>Go Server</arg>
                <runif status="passed" />
              </exec>
              <exec command="git" workingdir="meta-ivi">
                <arg>config</arg>
                <arg>--global</arg>
                <arg>user.name</arg>
                <arg>noemail@go.com.genivi</arg>
                <runif status="passed" />
              </exec>
              <exec command="git" workingdir="poky">
                <arg>checkout</arg>
                <arg>fc45deac89ef63ca1c44e763c38ced7dfd72cbe1</arg>
                <runif status="passed" />
              </exec>
              <exec command="git" workingdir="meta-openembedded">
                <arg>checkout</arg>
                <arg>c63423e305c0c68e2a9aa1ae2e7509352a85c871</arg>
                <runif status="passed" />
              </exec>
              <exec command="/bin/bash">
                <arg>-c</arg>
                <arg>export TEMPLATECONF=$PWD/meta-ivi/meta-ivi/conf &amp;&amp; source poky/oe-init-build-env &amp;&amp; bitbake leviathan-image</arg>
                <runif status="passed" />
              </exec>
            </tasks>
            <resources>
              <resource>big_disk</resource>
            </resources>
          </job>
        </jobs>
      </stage>
    </pipeline>
  </templates>
  <agents>
    <agent hostname="ari.hostname" ipaddress="23.226.68.119" uuid="2613d9c3-28b4-4990-bf28-993499c994ce" isDisabled="true">
      <resources>
        <resource>low_load</resource>
      </resources>
    </agent>
    <agent hostname="build0.genivigo.com" ipaddress="10.0.0.103" uuid="7cc5ab78-8c05-4c86-9dd4-0b7a1bf8388f">
      <resources>
        <resource>big_disk</resource>
        <resource>renesas_binaries</resource>
      </resources>
    </agent>
    <agent hostname="codethink-genivigo-agent0" ipaddress="192.168.1.45" uuid="3d6fa53c-5619-46c9-8260-034a1fb414e3">
      <resources>
        <resource>arm</resource>
      </resources>
    </agent>
    <agent hostname="ac95379f76c8" ipaddress="172.17.0.3" uuid="6b172da9-01ad-4e21-bbcf-66a09c8621b5">
      <resources>
        <resource>big_disk</resource>
        <resource>low_load</resource>
      </resources>
    </agent>
    <agent hostname="codethink-genivigo-agent1-x86" ipaddress="192.168.144.36" uuid="4ca169b4-a570-4a9b-ae3f-1e2f22c0d116" />
  </agents>
</cruise>

